<!DOCTYPE html>
<html>
<head>
    <title>Ovipositor Calculator</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        var exportData;

        function importRows(attackOrDefend) {
            /** Example import format
            4_ACFU_Nope
            Cavalry
            ACFU
            Nope
            Size: 200
            Training: 20
            ...
            Alicorns are an edge case. Example format:
            UnitName
            Alicorns
            Size: 30
            Training: 20
            */

            // Check if any data provided
            var text = document.getElementById("txtImport").value;
            if (text.trim().length == 0)
                return;
    
            try {
                // Split the text into individual lines
                var parsedResults = "";
                var textLines = text.split(/\r?\n|\r/);
                for(line in textLines) {
                    //parsedResults = parsedResults + line;
                    console.log(line);
                }
                //var VAL = this.value;

                //var email = new RegExp('^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$');

                //if (email.test(VAL)) {
                //    alert('Great, you entered an E-Mail-address');

                // Finally, clear out the textarea upon successful import.
                document.getElementById("txtImport").value = parsedResults;
            }
            catch(err) {
                console.log(err);
                alert("The import data was in an unexpected format.")
            }
        }

        $(document).ready(function() {
            // Import rows on bbutton click
            $('#btnImportAttackers').on("click", () => importRows.call(this, "attacker"));
        });
    </script>
</head>
<body>
        <div class="importRegion">
            <h2>Import data for Spreadsheet</h2>
            <div class="importButtons">
                <input type="button" id="btnImportAttackers" value="Import Attackers" title="Import to the attackers table" />
            </div>
            <textarea id="txtImport"></textarea>
        </div>
</body>
</html>