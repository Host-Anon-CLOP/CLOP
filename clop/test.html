<!DOCTYPE html>
<html>
<head>
  <title>Dynamic Form</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $(document).ready(function() {
      var counter = 1;

      // Function to add a new row
      function addRow() {
        var newRow = `<tr id="row${counter}">
          <td>
            <select name="type[]" onchange="loadWeapons(this, ${counter})">
              <option value="">Select Type</option>
              <option value="1">Type 1</option>
              <option value="2">Type 2</option>
              <!-- Add more type options as needed -->
            </select>
          </td>
          <td>
            <select name="weapon[]" id="weapon${counter}">
              <option value="">Select Weapon</option>
            </select>
          </td>
          <td>
            <select name="armor[]" id="armor${counter}">
              <option value="">Select Armor</option>
            </select>
          </td>
          <td><input type="text" name="size[]" /></td>
          <td><input type="text" name="training[]" /></td>
          <td><button type="button" onclick="removeRow(${counter})">Remove</button></td>
        </tr>`;

        $('#rows').append(newRow);
        counter++;
      }

      // Function to remove a row
      function removeRow(rowId) {
        $('#row' + rowId).remove();
      }

      // Function to load weapons based on the selected type
      function loadWeapons(selectElement, rowId) {
        var type = selectElement.value;
        var weaponSelect = $('#weapon' + rowId);

        // Clear previous options
        weaponSelect.empty();
        weaponSelect.append('<option value="">Select Weapon</option>');

        // Add options based on the selected type
        if (type === '1') {
          weaponSelect.append('<option value="Sword">Sword</option>');
          weaponSelect.append('<option value="Axe">Axe</option>');
        } else if (type === '2') {
          weaponSelect.append('<option value="Bow">Bow</option>');
          weaponSelect.append('<option value="Crossbow">Crossbow</option>');
        }
        // Add more options based on other types as needed
      }

      // Event listener for adding a new row
      $('#addRowBtn').on('click', addRow);
    });
  </script>
</head>
<body>
  <form action="backend.php" method="POST">
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Weapon</th>
          <th>Armor</th>
          <th>Size</th>
          <th>Training</th>
          <th></th>
        </tr>
      </thead>
      <tbody id="rows">
        <tr id="row0">
          <td>
            <select name="type[]" onchange="loadWeapons(this, 0)">
              <option value="">Select Type</option>
              <option value="1">Type 1</option>
              <option value="2">Type 2</option>
              <!-- Add more type options as needed -->
            </select>
          </td>
          <td>
            <select name="weapon[]" id="weapon0">
              <option value="">Select Weapon</option>
            </select>
          </td>
          <td>
            <select name="armor[]" id="armor0">
              <option value="">Select Armor</option>
            </select>
          </td>
          <td><input type="text" name="size[]" /></td>
          <td><input type="text" name="training[]" /></td>
          <td><button type="button" onclick="removeRow(0)">Remove</button></td>
        </tr>
      </tbody>
    </table>
    <button type="button" id="addRowBtn">Add Row</button>
    <button type="submit">Submit</button>
  </form>
</body>
</html>